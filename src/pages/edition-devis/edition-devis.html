 <ion-header>
  <ion-navbar text-center hideBackButton="true">
    <!--<button ion-button menuToggle>-->
      <!--<ion-icon name="menu"></ion-icon>-->
    <!--</button>-->
    <img src="./assets/imgs/logo.svg" class="img-logo" alt="Madera"/>
  </ion-navbar>
</ion-header>

<ion-content padding>

  <ion-fab top right edge>
    <button mini ion-fab class="contact-icon">
      <ion-icon name="contact"></ion-icon>
    </button>
    <ion-fab-list>
      <button ion-fab (click)="disconnect()"><ion-icon name="exit"></ion-icon></button>
    </ion-fab-list>
  </ion-fab>

  <ion-card>

    <ion-card-header text-center>
      <ion-icon name="arrow-back" (click)="cancel()" float-start></ion-icon>
      <h2>CONCEPTION DE DEVIS</h2>
    </ion-card-header>

    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col col-12 col-sm-4 >
            <ion-item text-center text-sm-start>
              <p>Référence projet : {{global.projets.length}}</p>
            </ion-item>
            <ion-item>
              <ion-input [(ngModel)]="updatedProjet.adresseProjet" text-center text-sm-start placeholder="Adresse projet" clearInput></ion-input>
            </ion-item>
            <ion-item text-center text-sm-start>
              <ion-label fixed>Date du projet</ion-label>
              <ion-datetime displayFormat="DD/MM/YYYY" [(ngModel)]="updatedProjet.dateProjet" placeholder="Date du projet" clearInput></ion-datetime>
            </ion-item>
          </ion-col>
          <ion-col col-0 col-sm-4></ion-col>
          <ion-col col-12 col-sm-4 text-center text-sm-end>
            <p>Référence client : 1555</p>
            <p>Mr. Kévin BUZIT</p>
            <p>28 rue de Douarnenez</p>
            <p>29100 Carhaix</p>
          </ion-col>
        </ion-row>
        <ion-row justify-content-center>
          <ion-col col-12 col-md-4>
            <ion-item>
              <ion-input text-center [(ngModel)]="updatedProjet.nomProjet" placeholder="Nom du projet" clearInput></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row class="border">
          <ion-col col-9>Gestion des produits</ion-col>
          <ion-col text-end col-3>
            <button ion-button icon-only class="button_add" (click)="presentAddProductModal()">
              <ion-icon name="add"></ion-icon>
            </button>
            <button ion-button icon-only class="button_remove">
              <ion-icon name="remove"></ion-icon>
            </button>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-12 class="border" *ngIf="null != updatedProjet.produits && updatedProjet.produits.length > 0">
            <ion-list>

              <button ion-item *ngFor="let produit of updatedProjet.produits" (click)="presentDisplayProductModal(produit)">
                {{ produit.modele.designationModele }}
              </button>

            </ion-list>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-12>
            <button ion-button color="green-madera" float-right [disabled]="checkIfNotValid()" (click)="goToDevisPage()">VALIDER</button>
            <button ion-button color="green-madera" float-right (click)="cancel()">ANNULER</button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>

  </ion-card>

</ion-content>
